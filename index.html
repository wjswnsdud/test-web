<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>필요 소방 시설 검색</title>
    <link rel="stylesheet" href="https://s3.ap-northeast-2.amazonaws.com/materials.spartacodingclub.kr/easygpt/default.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
        crossorigin="anonymous"></script>
    <style>
         .result-container {
            display: none;
            margin-top: 20px;
        }
    </style>
</head>

<body>
    <div class="hero d-flex align-items-center justify-content-center" style="background-color: #333333;">
        <div class="container text-center">
            <h1 class="display-4 text-light">필요 소방 시설 검색</h1>
        </div>
    </div>
     <!-- 선택 메뉴 -->
     <div class="container my-5">
        <div class="row justify-content-center">
            <div class="col-md-6">
                <label for="buildingType" class="form-label">건물 유형을 선택하세요:</label>
                <select id="buildingType" class="form-select">
                    <option value="" selected>-- 선택 --</option>
                    <option value="아파트">아파트</option>
                    <option value="병원">병원</option>
                    <option value="학교">학교</option>
                    <option value="터널">터널</option>
                </select>
                
                 <!-- 터널 옵션 -->
            <div id="tunnelOptions" class="mt-3" style="display: none;">
                <label for="tunnelLength" class="form-label">터널의 길이를 선택하세요:</label>
                <select id="tunnelLength" class="form-select">
                    <option value="" selected>-- 선택 --</option>
                    <option value="short">0 ≤ 길이 < 500m</option>
                    <option value="medium">500m ≤ 길이 < 1000m</option>
                    <option value="long">1000m ≤ 길이</option>
                </select>

                <label for="isSpecialTunnel" class="form-label mt-3">행정안전부령으로 정하는 터널인가요?</label>
                <select id="isSpecialTunnel" class="form-select">
                    <option value="" selected>-- 선택 --</option>
                    <option value="no">아니요</option>
                    <option value="yes">예</option>
                </select>
            </div>

            <button class="btn btn-primary mt-3" id="searchButton" type="button">검색</button>
        </div>
    </div>

    <!-- 검색 결과 -->
    <div class="result-container" id="resultContainer">
        <h5>검색 결과:</h5>
        <p id="resultText"></p>
    </div>
</div>

<!-- JavaScript -->
<script>
    // 터널 선택 시 추가 입력창 표시
    document.getElementById('buildingType').addEventListener('change', () => {
        const buildingType = document.getElementById('buildingType').value;
        const tunnelOptions = document.getElementById('tunnelOptions');
        tunnelOptions.style.display = (buildingType === '터널') ? 'block' : 'none';
    });

    // 검색 버튼 클릭 시 동작
    document.getElementById('searchButton').addEventListener('click', () => {
        const buildingType = document.getElementById('buildingType').value;
        const resultContainer = document.getElementById('resultContainer');
        const resultText = document.getElementById('resultText');

        if (buildingType === '터널') {
            const tunnelLength = document.getElementById('tunnelLength').value;
            const isSpecialTunnel = document.getElementById('isSpecialTunnel').value;

            if (!tunnelLength || !isSpecialTunnel) {
                alert('터널 길이와 행정안전부령 여부를 선택해주세요.');
                return;
            }

            if (isSpecialTunnel === 'yes') {
                resultText.textContent = '필요 소방 시설: 옥내소화전설비, 물분무등소화설비, 제연설비.';
            } else {
                switch (tunnelLength) {
                    case 'short':
                        resultText.textContent = '필요 소방 시설: 소화기구.';
                        break;
                    case 'medium':
                        resultText.textContent = '필요 소방 시설: 소화기구, 비상경보설비, 비상조명등, 비상콘센트설비, 무선통신보조설비.';
                        break;
                    case 'long':
                        resultText.textContent = '필요 소방 시설: 소화기구, 비상경보설비, 비상조명등, 비상콘센트설비, 무선통신보조설비, 옥내소화전설비, 자동화재탐지설비, 연결송수관설비.';
                        break;
                }
            }
        } else if (buildingType) {
            // 일반 건물 유형
            switch (buildingType) {
                case '아파트':
                    resultText.textContent = '아파트에 필요한 소방 시설: 화재 경보기, 소화기, 자동 스프링클러.';
                    break;
                case '병원':
                    resultText.textContent = '병원에 필요한 소방 시설: 소화전, 경보 시스템, 피난 유도등.';
                    break;
                case '학교':
                    resultText.textContent = '학교에 필요한 소방 시설: 소화기, 화재 감지기, 피난 경로 안내 시스템.';
                    break;
            }
        } else {
            alert('건물 유형을 선택해주세요.');
            return;
        }

        resultContainer.style.display = 'block';
    });
</script>